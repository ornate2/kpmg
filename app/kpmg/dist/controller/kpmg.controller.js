sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/odata/v2/ODataModel","sap/m/MessageToast","sap/ui/model/json/JSONModel"],function(e,o,n,i){"use strict";return e.extend("kpmg.controller.kpmg",{onInit:function(){},onPressPredictButton:function(){var e=this;var o=this.getView();var i=o.byId("descriptionInput").getValue();var t=o.getModel();var r=new sap.m.BusyDialog;r.open();t.create("/Predict",{description:i},{success:function(n){console.log(n.description);const i=JSON.parse(n.description);console.log(i);setTimeout(function(){r.close();var n=new sap.ui.model.json.JSONModel(i);o.setModel(n,"predictionModel");var t=e.getView().byId("FormToolbar1");t.setVisible(true);var s=e.getView().byId("panel1");s.setExpanded(!s.getExpanded())},3e3)},error:function(e){n.show("Error occurred while predicting.");console.error("Error:",e);r.close()}})},onOpenDialog:function(){if(!this.pDialog){this.pDialog=this.loadFragment({name:"kpmg.fragments.PredictionResults"}).then(function(e){this.pDialog=e;e.open()}.bind(this)).catch(function(e){console.error("Error loading fragment:",e)})}else{this.pDialog.open()}},onCancelPress:function(){var e=this.getView().byId("helloDialog");if(e){e.close()}else{console.error("Dialog not found or not initialized properly.")}},onSubmitPress:function(){this.onOpenDialog()}})});
//# sourceMappingURL=kpmg.controller.js.map